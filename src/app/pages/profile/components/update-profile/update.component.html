<ng-container *ngIf="updateProfile.result$ | async as result">
  <h3 class="text-lg font-semibold text-gray-800 mb-4">Modifier mes informations</h3>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-6">
      <mat-form-field class="w-full">
        <mat-label>Nom complet</mat-label>
        <input
          type="text"
          autocomplete="off"
          id="name"
          name="name"
          placeholder="Entrez votre name"
          matInput
          [formControlName]="'name'" />
      </mat-form-field>

      <mat-form-field class="w-full">
        <mat-label>Numéro téléphonique</mat-label>
        <input
          type="text"
          autocomplete="off"
          id="phone_number"
          name="phone_number"
          matInput
          [formControlName]="'phone_number'" />
      </mat-form-field>

      <mat-form-field class="w-full">
        <mat-label>Adresse</mat-label>
        <input autocomplete="off" id="address" type="text" name="address" matInput [formControlName]="'address'" />
      </mat-form-field>
    </div>
    <div class="w-1/2 md:w-1/4 mt-8">
      <button
        class="w-full text-white"
        mat-flat-button
        color="primary"
        type="submit"
        [disabled]="result.isPending || form.invalid">
        @if (!result.isPending && !form.invalid) {
          <span> Mettre à jour</span>
        }
        @if (result.isPending) {
          <mat-progress-spinner [diameter]="24" [mode]="'indeterminate'" />
        }
      </button>
    </div>
  </form>
</ng-container>
